(this.webpackJsonpwho_won=this.webpackJsonpwho_won||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(7),i=n.n(s),o=(n(13),n(14),n(1)),c=n(2),l=n(5),u=n(4),m=n(3),d=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).getData=a.getData.bind(Object(m.a)(a)),a}return Object(c.a)(n,[{key:"getHeaders",value:function(){return a.createElement("tr",null,this.props.headers.map((function(e){for(var t="",n=0;n<e.length;n++)t=0===n?t.concat(e[n].toUpperCase()):e[n]===e[n].toUpperCase()?(t=t.concat(" ")).concat(e[n]):t.concat(e[n]);return a.createElement("th",{key:e},t)})))}},{key:"getData",value:function(){var e=this;return a.createElement("tbody",null,this.props.data.map((function(t){var n=t.Driver?t.Driver.driverId:t.Constructor.constructorId;return a.createElement("tr",{key:n+e.props.title},e.props.headers.map((function(r,s){return"constructor"===r?a.createElement("td",{key:r+n+e.props.title},t.Constructor.name," "):"driver"===r?a.createElement("td",{key:r+n+e.props.title},t.Driver.givenName," ",t.Driver.familyName):"team"===r?a.createElement("td",{key:r+n+e.props.title},t.Constructor.name):"time"===r?a.createElement("td",{key:r+n+e.props.title},t.Time[r]):"teamName"===r?a.createElement("td",{key:r+n+e.props.title},t.Constructors[0].name):t[r]?a.createElement("td",{key:r+n+e.props.title},t[r]):null})))})))}},{key:"render",value:function(){return a.createElement("div",null,a.createElement("h2",null,this.props.title),a.createElement("table",{className:"table"},a.createElement("thead",null,this.getHeaders()),this.getData()))}}]),n}(a.Component),h="http://ergast.com/api/f1/current/",p=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).podiumDisplay=function(){return a.createElement("div",null,r.state.podium.map((function(e){return Object.keys(e.Driver).map((function(t){return a.createElement("p",null,e.Driver[t])}))})))},r.state={showWinner:!1,lastRaceName:"",lastRaceDate:"",podium:[],loading:!0,raceWinner:{},driverStandings:{},seasonString:"",roundString:"",constructorStandings:{}},r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getRaceData()}},{key:"getRaceData",value:function(){var e=this;fetch(h+"last/results.json").then((function(e){return e.json()})).then((function(t){var n=t.MRData.RaceTable.Races[0];e.setState({lastRaceName:n.raceName,lastRaceDate:n.date,podium:n.Results.slice(0,3),loading:!1,raceWinner:n.Results[0]})}),(function(e){console.log(e)})),fetch(h+"driverStandings.json").then((function(e){return e.json()})).then((function(t){var n=t.MRData.StandingsTable.StandingsLists[0];e.setState({seasonString:n.season,roundString:n.round,driverStandings:n.DriverStandings})}),(function(e){console.log(e)})),fetch(h+"constructorStandings.json").then((function(e){return e.json()})).then((function(t){var n=t.MRData.StandingsTable.StandingsLists[0];e.setState({constructorStandings:n.ConstructorStandings})}))}},{key:"getRaceWinner",value:function(){var e=this.state.raceWinner.Driver;return a.createElement("div",null,a.createElement("h1",null,e.givenName," ",e.familyName," - ",this.state.raceWinner.Constructor.name))}},{key:"getStandingsTitle",value:function(e){return this.state.seasonString+" "+e+" - Round "+this.state.roundString}},{key:"getClassName",value:function(){return this.state.showWinner?this.state.podium[0].Constructor.constructorId:"splashPage"}},{key:"render",value:function(){var e=this;return a.createElement("div",{className:this.getClassName()},this.state.loading?a.createElement("h2",null,"Loading"):this.state.showWinner?null:a.createElement("div",null,a.createElement("h3",null,"Who Won The ",this.state.lastRaceName,"?"),a.createElement("h3",null,"On ",this.state.lastRaceDate),this.state.showWinner?null:a.createElement("button",{onClick:function(){return e.setState({showWinner:!0})}},"Find Out!")),this.state.showWinner?a.createElement("div",null,a.createElement("h3",null,"Winner of The ",this.state.lastRaceDate.slice(0,4)," ",this.state.lastRaceName,":"),a.createElement("u",null,this.getRaceWinner()),a.createElement("div",{className:"row"},a.createElement("div",{className:"col"},a.createElement(d,{title:"Podium",headers:["position","driver","team","points","time"],data:this.state.podium})),a.createElement("div",{className:"col"},a.createElement(d,{title:this.getStandingsTitle("Driver Standings"),headers:["position","driver","teamName","points","wins"],data:this.state.driverStandings})),a.createElement("div",{className:"col"},a.createElement(d,{title:this.getStandingsTitle("Constructor Standings"),headers:["position","constructor","points","wins"],data:this.state.constructorStandings})))):null)}}]),n}(a.PureComponent);var v=function(){return r.a.createElement(p,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,n){e.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.83e583eb.chunk.js.map